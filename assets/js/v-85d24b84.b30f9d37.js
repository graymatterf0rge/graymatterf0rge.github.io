"use strict";(self.webpackChunkafternoon_grocery_store=self.webpackChunkafternoon_grocery_store||[]).push([[6365],{3220:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-85d24b84",path:"/blogs/backEnd/2017/110101.html",title:"mongoDB设置权限配置",lang:"zh-CN",frontmatter:{title:"mongoDB设置权限配置",date:"2017-11-01T00:00:00.000Z",tags:["mongoDB"],categories:["backEnd"]},excerpt:"",headers:[{level:2,title:"方法介绍",slug:"方法介绍",children:[]}],git:{createdTime:159076981e4,updatedTime:159076981e4,contributors:[{name:"reco_luan",email:"recoluan@outlook.com",commits:1}]}}},7754:(s,n,a)=>{a.r(n),a.d(n,{default:()=>u});var e=a(6252);const o=(0,e.uE)('<h2 id="方法介绍" tabindex="-1"><a class="header-anchor" href="#方法介绍" aria-hidden="true">#</a> 方法介绍</h2><ol><li>启动MongoDB服务（禁用访问权限控制）</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongod --port <span class="token number">27017</span> --dbpath d:/file/mongo\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li>连接至MongoDB实例</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongo --port <span class="token number">27017</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="3"><li>添加管理员账号</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>use admin\ndb.createUser<span class="token punctuation">(</span><span class="token punctuation">{</span>user: <span class="token string">&quot;username1&quot;</span>, pwd: <span class="token string">&quot;123456&quot;</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">{</span>role: <span class="token string">&quot;userAdminAnyDatabase&quot;</span>, db: <span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li>重启MongoDB实例，并启用访问权限控制</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongod --auth --port <span class="token number">27017</span> --dbpath d:/file/mongo\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="5"><li>连接至MongoDB实例</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongo --port <span class="token number">27017</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="6"><li>切换至admin库，并登陆</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>use admin\ndb.auth<span class="token punctuation">(</span><span class="token string">&quot;username1&quot;</span>,<span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="7"><li>添加普通用户账号</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>use dbName\ndb.createUser<span class="token punctuation">(</span><span class="token punctuation">{</span>user: <span class="token string">&quot;username2&quot;</span>, pwd: <span class="token string">&quot;123456&quot;</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">{</span>role: <span class="token string">&quot;readWrite&quot;</span>, db: <span class="token string">&quot;dbName&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="8"><li>使用普通用户账号登陆</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongo --port <span class="token number">27017</span>\nuse dbName\ndb.auth<span class="token punctuation">(</span><span class="token string">&quot;username2&quot;</span>,<span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="9"><li><strong><em>切记</em></strong> 登陆或创建mongo连接实例的时候需要用创建的普通账户及其所在数据库的名字</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mongodb://username2:123456@host:port/dbName&#39;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',19),t=(0,e.Uk)("个人博客："),l={href:"http://recoluan.gitlab.io",target:"_blank",rel:"noopener noreferrer"},p=(0,e._)("strong",null,"午后南杂",-1),r={},u=(0,a(3744).Z)(r,[["render",function(s,n){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[o,(0,e._)("p",null,[t,(0,e._)("a",l,[p,(0,e.Wm)(a)])])],64)}]])}}]);