"use strict";(self.webpackChunkafternoon_grocery_store=self.webpackChunkafternoon_grocery_store||[]).push([[2346],{7051:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-710baa92",path:"/blogs/other/2018/090901.html",title:"GitLab Pages/Vuepress生成项目文档和博客",lang:"zh-CN",frontmatter:{title:"GitLab Pages/Vuepress生成项目文档和博客",tags:["vuepress"],categories:["other"],date:"2018-09-09T00:00:00.000Z"},excerpt:'<div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>最近在给公司架构一个新的项目，要求同时写出一个完整的文档，由于正好在浏览vue的GitHub浏览相关项目时，看到了 <code>Vuepress</code>，所以尝试了一把，所以把开发中的积累写下来。</p>\n</div>',headers:[{level:2,title:"GitLab Pages 原理",slug:"gitlab-pages-原理",children:[]},{level:2,title:"Vuepress",slug:"vuepress",children:[]},{level:2,title:"遇到的坑",slug:"遇到的坑",children:[]},{level:2,title:"修改主题",slug:"修改主题",children:[]}],git:{createdTime:159076981e4,updatedTime:159076981e4,contributors:[{name:"reco_luan",email:"recoluan@outlook.com",commits:1}]}}},224:(n,s,a)=>{a.r(s),a.d(s,{default:()=>U});var e=a(6252);const p=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,e._)("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,e._)("circle",{cx:"12",cy:"12",r:"9"}),(0,e._)("path",{d:"M12 8h.01"}),(0,e._)("path",{d:"M11 12h1v4h1"})])]),(0,e._)("p",{class:"custom-container-title"},"TIP"),(0,e._)("p",null,[(0,e.Uk)("最近在给公司架构一个新的项目，要求同时写出一个完整的文档，由于正好在浏览vue的GitHub浏览相关项目时，看到了 "),(0,e._)("code",null,"Vuepress"),(0,e.Uk)("，所以尝试了一把，所以把开发中的积累写下来。")])],-1),l=(0,e._)("h2",{id:"gitlab-pages-原理",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#gitlab-pages-原理","aria-hidden":"true"},"#"),(0,e.Uk)(" GitLab Pages 原理")],-1),t=(0,e.Uk)("首先了解一下GitLab Pages运行的原理。与GitHub不同的是，GitLab需要上传一个 "),r=(0,e._)("code",null,".gitlab-ci.yml",-1),c=(0,e.Uk)(" 的文件，同时生成的项目文件必须要到 "),o=(0,e._)("code",null,"/public",-1),u=(0,e.Uk)(" 目录中，见"),i={href:"https://about.gitlab.com/features/pages/",target:"_blank",rel:"noopener noreferrer"},b=(0,e.Uk)("详情"),d=(0,e.Uk)("。"),m=(0,e.uE)('<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment">## .gitlab-ci.yml</span>\n\n<span class="token key atrule">image</span><span class="token punctuation">:</span> node<span class="token punctuation">:</span>9.11.1\n\n<span class="token key atrule">pages</span><span class="token punctuation">:</span>\n <span class="token key atrule">cache</span><span class="token punctuation">:</span>\n   <span class="token key atrule">paths</span><span class="token punctuation">:</span>\n   <span class="token punctuation">-</span> node_modules/\n\n <span class="token key atrule">script</span><span class="token punctuation">:</span>\n <span class="token punctuation">-</span> npm install\n <span class="token punctuation">-</span> npm run docs<span class="token punctuation">:</span>build\n <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>\n   <span class="token key atrule">paths</span><span class="token punctuation">:</span>\n   <span class="token punctuation">-</span> public\n <span class="token key atrule">only</span><span class="token punctuation">:</span>\n <span class="token punctuation">-</span> master\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="vuepress" tabindex="-1"><a class="header-anchor" href="#vuepress" aria-hidden="true">#</a> Vuepress</h2><p>你可以将vuepress安装到全局，也可以将其安装到项目中，我建议选择第二种，后面介绍一下原因</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建并进入工程</span>\n\n<span class="token function">mkdir</span> project-name\n<span class="token builtin class-name">cd</span> project-name\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>创建<code> package.json</code></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;vuepress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.14.2&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装依赖</span>\n<span class="token function">yarn</span> <span class="token function">install</span> <span class="token comment"># 或 npm install</span>\n\n<span class="token comment"># 创建并进入docs目录</span>\n<span class="token function">mkdir</span> docs\n<span class="token builtin class-name">cd</span> docs\n\n<span class="token comment"># 创建一个 markdown 文件</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&#39;# Hello VuePress&#39;</span> <span class="token operator">&gt;</span> README.md\n\n<span class="token comment"># 启动项目</span>\n<span class="token function">yarn</span> docs:dev <span class="token comment"># 或 npm run docs:dev</span>\n\n<span class="token comment"># 编译项目至 &#39;/project-name/public&#39; 中</span>\n<span class="token function">yarn</span> docs:dev <span class="token comment"># 或 npm run docs:dev</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="遇到的坑" tabindex="-1"><a class="header-anchor" href="#遇到的坑" aria-hidden="true">#</a> 遇到的坑</h2><p>其实到这里只是简单的启动了一个vuepress项目，但是你还应该花点时间去仔细阅读一下官网的主题配置，去配置你自己的各种导航，并注意下的页面的设置（主要是主页）。</p><ul><li>valine 的引用必须放到mounted中，否则无法编译，报错，window is undefined</li></ul><h2 id="修改主题" tabindex="-1"><a class="header-anchor" href="#修改主题" aria-hidden="true">#</a> 修改主题</h2><p>另外vuepress适合撸项目文档，至于你要用它来写博客，它并没有分类、标签这样的配置，需要你去修改主题，有两种方式：</p><ol><li>将主题文件放到 <code>project-name/docs/.vuepress/theme</code> 中，然后创建一个 <code>Layout.vue</code> 文件：</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.\n└─ .vuepress\n   └─ theme\n      └─ Layout.vue\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这儿和开发一个正常的 Vue 应用程序是一样的。完全取决于你如何组织你的主题。</p><ol start="2"><li>从依赖中引用主题，要使用 npm 依赖项的主题，请在 <code>.vuepress/config.js</code> 中提供一个 theme 选项：</li></ol><div class="language-javscript ext-javscript line-numbers-mode"><pre class="language-javscript"><code>module.exports = {\n  theme: &#39;reco&#39;\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>',17),k=(0,e.Uk)("郑重推荐 "),h=(0,e._)("strong",null,"vuepress-theme-reco",-1),g=(0,e.Uk)(" ，查看 "),v={href:"http://recoluan.gitlab.io/",target:"_blank",rel:"noopener noreferrer"},f=(0,e.Uk)("展示"),y=(0,e.Uk)(" 既没有脱离默认主题的简洁，又增加了分类、分页、标签等功能。"),_=(0,e.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装</span>\n<span class="token function">yarn</span> <span class="token function">add</span> vuepress-theme-reco <span class="token comment"># npm install vuepress-theme-reco</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="持续更新中。。。" tabindex="-1"><a class="header-anchor" href="#持续更新中。。。" aria-hidden="true">#</a> 持续更新中。。。</h4>',2),x=(0,e.Uk)("个人博客："),w={href:"http://recoluan.gitlab.io",target:"_blank",rel:"noopener noreferrer"},q=(0,e._)("strong",null,"午后南杂",-1),j={},U=(0,a(3744).Z)(j,[["render",function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,l,(0,e._)("p",null,[t,r,c,o,u,(0,e._)("a",i,[b,(0,e.Wm)(a)]),d]),m,(0,e._)("p",null,[k,h,g,(0,e._)("a",v,[f,(0,e.Wm)(a)]),y]),_,(0,e._)("p",null,[x,(0,e._)("a",w,[q,(0,e.Wm)(a)])])],64)}]])}}]);